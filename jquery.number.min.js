(function(e){"use strict";function t(e,t){if(this.createTextRange){var i=this.createTextRange();i.collapse(true);i.moveStart("character",e);i.moveEnd("character",t-e);i.select()}else if(this.setSelectionRange){this.focus();this.setSelectionRange(e,t)}}function i(e){var t=this.value.length;e=e.toLowerCase()=="start"?"Start":"End";if(document.selection){var i=document.selection.createRange(),a,n,l;a=i.duplicate();a.expand("textedit");a.setEndPoint("EndToEnd",i);n=a.text.length-i.text.length;l=n+i.text.length;return e=="Start"?n:l}else if(typeof this["selection"+e]!="undefined"){t=this["selection"+e]}return t}var a={codes:{46:127,109:45,190:46,191:47,192:96,220:92,222:39,221:93,219:91,173:45,187:61,186:59,189:45,110:46},shifts:{96:"~",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",48:")",45:"_",61:"+",91:"{",93:"}",92:"|",59:":",39:'"',44:"<",46:">",47:"?"}};e.fn.number=function(n,l,s,r){r=typeof r==="undefined"?",":r;s=typeof s==="undefined"?".":s;l=typeof l==="undefined"?0:l;var u="\\u"+("0000"+s.charCodeAt(0).toString(16)).slice(-4),h=new RegExp("[^"+u+"0-9]","g"),c=new RegExp(u,"g");if(n===true){if(this.is("input:text")){return this.on({"keydown.format":function(n){var u=e(this),h=u.data("numFormat"),c=n.keyCode?n.keyCode:n.which,o="",f=i.apply(this,["start"]),v=i.apply(this,["end"]),d="",p=false;if(a.codes.hasOwnProperty(c)){c=a.codes[c]}if(!n.shiftKey&&(c>=65&&c<=90)){c+=32}else if(!n.shiftKey&&(c>=69&&c<=105)){c-=48}else if(n.shiftKey&&a.shifts.hasOwnProperty(c)){o=a.shifts[c]}if(o=="")o=String.fromCharCode(c);if(c!=8&&c!=45&&c!=127&&o!=s&&!o.match(/[0-9]/)){var g=n.keyCode?n.keyCode:n.which;if(g==46||g==8||g==127||g==9||g==27||g==13||(g==65||g==82||g==80||g==83||g==70||g==72||g==66||g==74||g==84||g==90||g==61||g==173||g==48)&&(n.ctrlKey||n.metaKey)===true||(g==86||g==67||g==88)&&(n.ctrlKey||n.metaKey)===true||g>=35&&g<=39||g>=112&&g<=123){return}n.preventDefault();return false}if(f==0&&v==this.value.length){if(c==8){f=v=1;this.value="";h.init=l>0?-1:0;h.c=l>0?-(l+1):0;t.apply(this,[0,0])}else if(o==s){f=v=1;this.value="0"+s+new Array(l+1).join("0");h.init=l>0?1:0;h.c=l>0?-(l+1):0}else if(c==45){f=v=2;this.value="-0"+s+new Array(l+1).join("0");h.init=l>0?1:0;h.c=l>0?-(l+1):0;t.apply(this,[2,2])}else{h.init=l>0?-1:0;h.c=l>0?-l:0}}else{h.c=v-this.value.length}h.isPartialSelection=f==v?false:true;if(l>0&&o==s&&f==this.value.length-l-1){h.c++;h.init=Math.max(0,h.init);n.preventDefault();p=this.value.length+h.c}else if(c==45&&(f!=0||this.value.indexOf("-")==0)){n.preventDefault()}else if(o==s){h.init=Math.max(0,h.init);n.preventDefault()}else if(l>0&&c==127&&f==this.value.length-l-1){n.preventDefault()}else if(l>0&&c==8&&f==this.value.length-l){n.preventDefault();h.c--;p=this.value.length+h.c}else if(l>0&&c==127&&f>this.value.length-l-1){if(this.value==="")return;if(this.value.slice(f,f+1)!="0"){d=this.value.slice(0,f)+"0"+this.value.slice(f+1);u.val(d)}n.preventDefault();p=this.value.length+h.c}else if(l>0&&c==8&&f>this.value.length-l){if(this.value==="")return;if(this.value.slice(f-1,f)!="0"){d=this.value.slice(0,f-1)+"0"+this.value.slice(f);u.val(d)}n.preventDefault();h.c--;p=this.value.length+h.c}else if(c==127&&this.value.slice(f,f+1)==r){n.preventDefault()}else if(c==8&&this.value.slice(f-1,f)==r){n.preventDefault();h.c--;p=this.value.length+h.c}else if(l>0&&f==v&&this.value.length>l+1&&f>this.value.length-l-1&&isFinite(+o)&&!n.metaKey&&!n.ctrlKey&&!n.altKey&&o.length===1){if(v===this.value.length){d=this.value.slice(0,f-1)}else{d=this.value.slice(0,f)+this.value.slice(f+1)}this.value=d;p=f}if(p!==false){t.apply(this,[p,p])}u.data("numFormat",h)},"keyup.format":function(a){var n=e(this),s=n.data("numFormat"),r=a.keyCode?a.keyCode:a.which,u=i.apply(this,["start"]),h=i.apply(this,["end"]),c;if(u===0&&h===0&&(r===189||r===109)){n.val("-"+n.val());u=1;s.c=1-this.value.length;s.init=1;n.data("numFormat",s);c=this.value.length+s.c;t.apply(this,[c,c])}if(this.value===""||(r<48||r>57)&&(r<96||r>105)&&r!==8&&r!==46&&r!==110)return;n.val(n.val());if(l>0){if(s.init<1){u=this.value.length-l-(s.init<0?1:0);s.c=u-this.value.length;s.init=1;n.data("numFormat",s)}else if(u>this.value.length-l&&r!=8){s.c++;n.data("numFormat",s)}}if(r==46&&!s.isPartialSelection){s.c++;n.data("numFormat",s)}c=this.value.length+s.c;t.apply(this,[c,c])},"paste.format":function(t){var i=e(this),a=t.originalEvent,n=null;if(window.clipboardData&&window.clipboardData.getData){n=window.clipboardData.getData("Text")}else if(a.clipboardData&&a.clipboardData.getData){n=a.clipboardData.getData("text/plain")}i.val(n);t.preventDefault();return false}}).each(function(){var t=e(this).data("numFormat",{c:-(l+1),decimals:l,thousands_sep:r,dec_point:s,regex_dec_num:h,regex_dec:c,init:this.value.indexOf(".")?true:false});if(this.value==="")return;t.val(t.val())})}else{return this.each(function(){var t=e(this),i=+t.text().replace(h,"").replace(c,".");t.number(!isFinite(i)?0:+i,l,s,r)})}}return this.text(e.number.apply(window,arguments))};var n=null,l=null;if(e.isPlainObject(e.valHooks.text)){if(e.isFunction(e.valHooks.text.get))n=e.valHooks.text.get;if(e.isFunction(e.valHooks.text.set))l=e.valHooks.text.set}else{e.valHooks.text={}}e.valHooks.text.get=function(t){var i=e(t),a,l,s=i.data("numFormat");if(!s){if(e.isFunction(n)){return n(t)}else{return undefined}}else{if(t.value==="")return"";a=+t.value.replace(s.regex_dec_num,"").replace(s.regex_dec,".");return(t.value.indexOf("-")===0?"-":"")+(isFinite(a)?a:0)}};e.valHooks.text.set=function(t,i){var a=e(t),n=a.data("numFormat");if(!n){if(e.isFunction(l)){return l(t,i)}else{return undefined}}else{var s=e.number(i,n.decimals,n.dec_point,n.thousands_sep);return e.isFunction(l)?l(t,s):t.value=s}};e.number=function(e,t,i,a){a=typeof a==="undefined"?new Number(1e3).toLocaleString()!=="1000"?new Number(1e3).toLocaleString().charAt(1):"":a;i=typeof i==="undefined"?new Number(.1).toLocaleString().charAt(1):i;t=!isFinite(+t)?0:Math.abs(t);var n="\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4);var l="\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4);e=(e+"").replace(".",i).replace(new RegExp(l,"g"),"").replace(new RegExp(n,"g"),".").replace(new RegExp("[^0-9+-Ee.]","g"),"");var s=!isFinite(+e)?0:+e,r="",u=function(e,t){return""+ +(Math.round((""+e).indexOf("e")>0?e:e+"e+"+t)+"e-"+t)};r=(t?u(s,t):""+Math.round(s)).split(".");if(r[0].length>3){r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)}if((r[1]||"").length<t){r[1]=r[1]||"";r[1]+=new Array(t-r[1].length+1).join("0")}return r.join(i)}})(jQuery);
//# sourceMappingURL=jquery.number.min.js.map